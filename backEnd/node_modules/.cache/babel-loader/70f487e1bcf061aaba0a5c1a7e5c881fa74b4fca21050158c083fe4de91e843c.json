{"ast":null,"code":"const {\n  isObject\n} = require('../util/is');\n\n// Compiles a callback using the query builder.\nfunction compileCallback(callback, method, client, bindingsHolder) {\n  // Build the callback\n  const builder = client.queryBuilder();\n  callback.call(builder, builder);\n\n  // Compile the callback, using the current formatter (to track all bindings).\n  const compiler = client.queryCompiler(builder, bindingsHolder.bindings);\n\n  // Return the compiled & parameterized sql.\n  return compiler.toSQL(method || builder._method || 'select');\n}\nfunction wrapAsIdentifier(value, builder, client) {\n  const queryContext = builder.queryContext();\n  return client.wrapIdentifier((value || '').trim(), queryContext);\n}\nfunction formatDefault(value, type, client) {\n  if (value === void 0) {\n    return '';\n  } else if (value === null) {\n    return 'null';\n  } else if (value && value.isRawInstance) {\n    return value.toQuery();\n  } else if (type === 'bool') {\n    if (value === 'false') value = 0;\n    return `'${value ? 1 : 0}'`;\n  } else if ((type === 'json' || type === 'jsonb') && isObject(value)) {\n    return `'${JSON.stringify(value)}'`;\n  } else {\n    return client._escapeBinding(value.toString());\n  }\n}\nmodule.exports = {\n  compileCallback,\n  wrapAsIdentifier,\n  formatDefault\n};","map":{"version":3,"names":["isObject","require","compileCallback","callback","method","client","bindingsHolder","builder","queryBuilder","call","compiler","queryCompiler","bindings","toSQL","_method","wrapAsIdentifier","value","queryContext","wrapIdentifier","trim","formatDefault","type","isRawInstance","toQuery","JSON","stringify","_escapeBinding","toString","module","exports"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/node_modules/knex/lib/formatter/formatterUtils.js"],"sourcesContent":["const { isObject } = require('../util/is');\n\n// Compiles a callback using the query builder.\nfunction compileCallback(callback, method, client, bindingsHolder) {\n  // Build the callback\n  const builder = client.queryBuilder();\n  callback.call(builder, builder);\n\n  // Compile the callback, using the current formatter (to track all bindings).\n  const compiler = client.queryCompiler(builder, bindingsHolder.bindings);\n\n  // Return the compiled & parameterized sql.\n  return compiler.toSQL(method || builder._method || 'select');\n}\n\nfunction wrapAsIdentifier(value, builder, client) {\n  const queryContext = builder.queryContext();\n  return client.wrapIdentifier((value || '').trim(), queryContext);\n}\n\nfunction formatDefault(value, type, client) {\n  if (value === void 0) {\n    return '';\n  } else if (value === null) {\n    return 'null';\n  } else if (value && value.isRawInstance) {\n    return value.toQuery();\n  } else if (type === 'bool') {\n    if (value === 'false') value = 0;\n    return `'${value ? 1 : 0}'`;\n  } else if ((type === 'json' || type === 'jsonb') && isObject(value)) {\n    return `'${JSON.stringify(value)}'`;\n  } else {\n    return client._escapeBinding(value.toString());\n  }\n}\n\nmodule.exports = {\n  compileCallback,\n  wrapAsIdentifier,\n  formatDefault,\n};\n"],"mappings":"AAAA,MAAM;EAAEA;AAAS,CAAC,GAAGC,OAAO,CAAC,YAAY,CAAC;;AAE1C;AACA,SAASC,eAAeA,CAACC,QAAQ,EAAEC,MAAM,EAAEC,MAAM,EAAEC,cAAc,EAAE;EACjE;EACA,MAAMC,OAAO,GAAGF,MAAM,CAACG,YAAY,CAAC,CAAC;EACrCL,QAAQ,CAACM,IAAI,CAACF,OAAO,EAAEA,OAAO,CAAC;;EAE/B;EACA,MAAMG,QAAQ,GAAGL,MAAM,CAACM,aAAa,CAACJ,OAAO,EAAED,cAAc,CAACM,QAAQ,CAAC;;EAEvE;EACA,OAAOF,QAAQ,CAACG,KAAK,CAACT,MAAM,IAAIG,OAAO,CAACO,OAAO,IAAI,QAAQ,CAAC;AAC9D;AAEA,SAASC,gBAAgBA,CAACC,KAAK,EAAET,OAAO,EAAEF,MAAM,EAAE;EAChD,MAAMY,YAAY,GAAGV,OAAO,CAACU,YAAY,CAAC,CAAC;EAC3C,OAAOZ,MAAM,CAACa,cAAc,CAAC,CAACF,KAAK,IAAI,EAAE,EAAEG,IAAI,CAAC,CAAC,EAAEF,YAAY,CAAC;AAClE;AAEA,SAASG,aAAaA,CAACJ,KAAK,EAAEK,IAAI,EAAEhB,MAAM,EAAE;EAC1C,IAAIW,KAAK,KAAK,KAAK,CAAC,EAAE;IACpB,OAAO,EAAE;EACX,CAAC,MAAM,IAAIA,KAAK,KAAK,IAAI,EAAE;IACzB,OAAO,MAAM;EACf,CAAC,MAAM,IAAIA,KAAK,IAAIA,KAAK,CAACM,aAAa,EAAE;IACvC,OAAON,KAAK,CAACO,OAAO,CAAC,CAAC;EACxB,CAAC,MAAM,IAAIF,IAAI,KAAK,MAAM,EAAE;IAC1B,IAAIL,KAAK,KAAK,OAAO,EAAEA,KAAK,GAAG,CAAC;IAChC,OAAO,IAAIA,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG;EAC7B,CAAC,MAAM,IAAI,CAACK,IAAI,KAAK,MAAM,IAAIA,IAAI,KAAK,OAAO,KAAKrB,QAAQ,CAACgB,KAAK,CAAC,EAAE;IACnE,OAAO,IAAIQ,IAAI,CAACC,SAAS,CAACT,KAAK,CAAC,GAAG;EACrC,CAAC,MAAM;IACL,OAAOX,MAAM,CAACqB,cAAc,CAACV,KAAK,CAACW,QAAQ,CAAC,CAAC,CAAC;EAChD;AACF;AAEAC,MAAM,CAACC,OAAO,GAAG;EACf3B,eAAe;EACfa,gBAAgB;EAChBK;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}