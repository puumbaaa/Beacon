{"ast":null,"code":"// MySQL2 Client\n// -------\nconst Client_MySQL = require('../mysql');\nconst Transaction = require('./transaction');\n\n// Always initialize with the \"QueryBuilder\" and \"QueryCompiler\"\n// objects, which extend the base 'lib/query/builder' and\n// 'lib/query/compiler', respectively.\nclass Client_MySQL2 extends Client_MySQL {\n  transaction() {\n    return new Transaction(this, ...arguments);\n  }\n  _driver() {\n    return require('mysql2');\n  }\n  initializeDriver() {\n    try {\n      this.driver = this._driver();\n    } catch (e) {\n      let message = `Knex: run\\n$ npm install ${this.driverName}`;\n      const nodeMajorVersion = process.version.replace(/^v/, '').split('.')[0];\n      if (nodeMajorVersion <= 12) {\n        message += `@3.2.0`;\n        this.logger.error('Mysql2 version 3.2.0 is the latest version to support Node.js 12 or lower.');\n      }\n      message += ` --save`;\n      this.logger.error(`${message}\\n${e.message}\\n${e.stack}`);\n      throw new Error(`${message}\\n${e.message}`);\n    }\n  }\n  validateConnection(connection) {\n    return connection && !connection._fatalError && !connection._protocolError && !connection._closing && !connection.stream.destroyed;\n  }\n}\nObject.assign(Client_MySQL2.prototype, {\n  // The \"dialect\", for reference elsewhere.\n  driverName: 'mysql2'\n});\nmodule.exports = Client_MySQL2;","map":{"version":3,"names":["Client_MySQL","require","Transaction","Client_MySQL2","transaction","arguments","_driver","initializeDriver","driver","e","message","driverName","nodeMajorVersion","process","version","replace","split","logger","error","stack","Error","validateConnection","connection","_fatalError","_protocolError","_closing","stream","destroyed","Object","assign","prototype","module","exports"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/node_modules/knex/lib/dialects/mysql2/index.js"],"sourcesContent":["// MySQL2 Client\n// -------\nconst Client_MySQL = require('../mysql');\nconst Transaction = require('./transaction');\n\n// Always initialize with the \"QueryBuilder\" and \"QueryCompiler\"\n// objects, which extend the base 'lib/query/builder' and\n// 'lib/query/compiler', respectively.\nclass Client_MySQL2 extends Client_MySQL {\n  transaction() {\n    return new Transaction(this, ...arguments);\n  }\n\n  _driver() {\n    return require('mysql2');\n  }\n\n  initializeDriver() {\n    try {\n      this.driver = this._driver();\n    } catch (e) {\n      let message = `Knex: run\\n$ npm install ${this.driverName}`;\n\n      const nodeMajorVersion = process.version.replace(/^v/, '').split('.')[0];\n      if (nodeMajorVersion <= 12) {\n        message += `@3.2.0`;\n        this.logger.error(\n          'Mysql2 version 3.2.0 is the latest version to support Node.js 12 or lower.'\n        );\n      }\n      message += ` --save`;\n      this.logger.error(`${message}\\n${e.message}\\n${e.stack}`);\n      throw new Error(`${message}\\n${e.message}`);\n    }\n  }\n\n  validateConnection(connection) {\n    return (\n      connection &&\n      !connection._fatalError &&\n      !connection._protocolError &&\n      !connection._closing &&\n      !connection.stream.destroyed\n    );\n  }\n}\n\nObject.assign(Client_MySQL2.prototype, {\n  // The \"dialect\", for reference elsewhere.\n  driverName: 'mysql2',\n});\n\nmodule.exports = Client_MySQL2;\n"],"mappings":"AAAA;AACA;AACA,MAAMA,YAAY,GAAGC,OAAO,CAAC,UAAU,CAAC;AACxC,MAAMC,WAAW,GAAGD,OAAO,CAAC,eAAe,CAAC;;AAE5C;AACA;AACA;AACA,MAAME,aAAa,SAASH,YAAY,CAAC;EACvCI,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAIF,WAAW,CAAC,IAAI,EAAE,GAAGG,SAAS,CAAC;EAC5C;EAEAC,OAAOA,CAAA,EAAG;IACR,OAAOL,OAAO,CAAC,QAAQ,CAAC;EAC1B;EAEAM,gBAAgBA,CAAA,EAAG;IACjB,IAAI;MACF,IAAI,CAACC,MAAM,GAAG,IAAI,CAACF,OAAO,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOG,CAAC,EAAE;MACV,IAAIC,OAAO,GAAG,4BAA4B,IAAI,CAACC,UAAU,EAAE;MAE3D,MAAMC,gBAAgB,GAAGC,OAAO,CAACC,OAAO,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACxE,IAAIJ,gBAAgB,IAAI,EAAE,EAAE;QAC1BF,OAAO,IAAI,QAAQ;QACnB,IAAI,CAACO,MAAM,CAACC,KAAK,CACf,4EACF,CAAC;MACH;MACAR,OAAO,IAAI,SAAS;MACpB,IAAI,CAACO,MAAM,CAACC,KAAK,CAAC,GAAGR,OAAO,KAAKD,CAAC,CAACC,OAAO,KAAKD,CAAC,CAACU,KAAK,EAAE,CAAC;MACzD,MAAM,IAAIC,KAAK,CAAC,GAAGV,OAAO,KAAKD,CAAC,CAACC,OAAO,EAAE,CAAC;IAC7C;EACF;EAEAW,kBAAkBA,CAACC,UAAU,EAAE;IAC7B,OACEA,UAAU,IACV,CAACA,UAAU,CAACC,WAAW,IACvB,CAACD,UAAU,CAACE,cAAc,IAC1B,CAACF,UAAU,CAACG,QAAQ,IACpB,CAACH,UAAU,CAACI,MAAM,CAACC,SAAS;EAEhC;AACF;AAEAC,MAAM,CAACC,MAAM,CAAC1B,aAAa,CAAC2B,SAAS,EAAE;EACrC;EACAnB,UAAU,EAAE;AACd,CAAC,CAAC;AAEFoB,MAAM,CAACC,OAAO,GAAG7B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}