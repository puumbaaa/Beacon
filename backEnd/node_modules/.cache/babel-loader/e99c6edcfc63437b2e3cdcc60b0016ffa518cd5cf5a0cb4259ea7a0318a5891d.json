{"ast":null,"code":"const ColumnCompiler_Oracle = require('../../oracle/schema/oracle-columncompiler');\nconst {\n  isObject\n} = require('../../../util/is');\nclass ColumnCompiler_Oracledb extends ColumnCompiler_Oracle {\n  constructor() {\n    super(...arguments);\n    this.modifiers = ['defaultTo', 'nullable', 'comment', 'checkJson'];\n    this._addCheckModifiers();\n  }\n  datetime(withoutTz) {\n    let useTz;\n    if (isObject(withoutTz)) {\n      ({\n        useTz\n      } = withoutTz);\n    } else {\n      useTz = !withoutTz;\n    }\n    return useTz ? 'timestamp with local time zone' : 'timestamp';\n  }\n  timestamp(withoutTz) {\n    let useTz;\n    if (isObject(withoutTz)) {\n      ({\n        useTz\n      } = withoutTz);\n    } else {\n      useTz = !withoutTz;\n    }\n    return useTz ? 'timestamp with local time zone' : 'timestamp';\n  }\n  checkRegex(regex, constraintName) {\n    return this._check(`REGEXP_LIKE(${this.formatter.wrap(this.getColumnName())},${this.client._escapeBinding(regex)})`, constraintName);\n  }\n  json() {\n    // implicitly add the check for json\n    this.columnBuilder._modifiers.checkJson = [this.formatter.columnize(this.getColumnName())];\n    return 'varchar2(4000)';\n  }\n  jsonb() {\n    return this.json();\n  }\n  checkJson(column) {\n    return `check (${column} is json)`;\n  }\n}\nColumnCompiler_Oracledb.prototype.time = 'timestamp with local time zone';\nColumnCompiler_Oracledb.prototype.uuid = ({\n  useBinaryUuid = false\n} = {}) => useBinaryUuid ? 'raw(16)' : 'char(36)';\nmodule.exports = ColumnCompiler_Oracledb;","map":{"version":3,"names":["ColumnCompiler_Oracle","require","isObject","ColumnCompiler_Oracledb","constructor","arguments","modifiers","_addCheckModifiers","datetime","withoutTz","useTz","timestamp","checkRegex","regex","constraintName","_check","formatter","wrap","getColumnName","client","_escapeBinding","json","columnBuilder","_modifiers","checkJson","columnize","jsonb","column","prototype","time","uuid","useBinaryUuid","module","exports"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/node_modules/knex/lib/dialects/oracledb/schema/oracledb-columncompiler.js"],"sourcesContent":["const ColumnCompiler_Oracle = require('../../oracle/schema/oracle-columncompiler');\nconst { isObject } = require('../../../util/is');\n\nclass ColumnCompiler_Oracledb extends ColumnCompiler_Oracle {\n  constructor() {\n    super(...arguments);\n    this.modifiers = ['defaultTo', 'nullable', 'comment', 'checkJson'];\n    this._addCheckModifiers();\n  }\n\n  datetime(withoutTz) {\n    let useTz;\n    if (isObject(withoutTz)) {\n      ({ useTz } = withoutTz);\n    } else {\n      useTz = !withoutTz;\n    }\n    return useTz ? 'timestamp with local time zone' : 'timestamp';\n  }\n\n  timestamp(withoutTz) {\n    let useTz;\n    if (isObject(withoutTz)) {\n      ({ useTz } = withoutTz);\n    } else {\n      useTz = !withoutTz;\n    }\n    return useTz ? 'timestamp with local time zone' : 'timestamp';\n  }\n\n  checkRegex(regex, constraintName) {\n    return this._check(\n      `REGEXP_LIKE(${this.formatter.wrap(\n        this.getColumnName()\n      )},${this.client._escapeBinding(regex)})`,\n      constraintName\n    );\n  }\n\n  json() {\n    // implicitly add the check for json\n    this.columnBuilder._modifiers.checkJson = [\n      this.formatter.columnize(this.getColumnName()),\n    ];\n    return 'varchar2(4000)';\n  }\n\n  jsonb() {\n    return this.json();\n  }\n\n  checkJson(column) {\n    return `check (${column} is json)`;\n  }\n}\n\nColumnCompiler_Oracledb.prototype.time = 'timestamp with local time zone';\nColumnCompiler_Oracledb.prototype.uuid = ({ useBinaryUuid = false } = {}) =>\n  useBinaryUuid ? 'raw(16)' : 'char(36)';\n\nmodule.exports = ColumnCompiler_Oracledb;\n"],"mappings":"AAAA,MAAMA,qBAAqB,GAAGC,OAAO,CAAC,2CAA2C,CAAC;AAClF,MAAM;EAAEC;AAAS,CAAC,GAAGD,OAAO,CAAC,kBAAkB,CAAC;AAEhD,MAAME,uBAAuB,SAASH,qBAAqB,CAAC;EAC1DI,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAGC,SAAS,CAAC;IACnB,IAAI,CAACC,SAAS,GAAG,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,WAAW,CAAC;IAClE,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B;EAEAC,QAAQA,CAACC,SAAS,EAAE;IAClB,IAAIC,KAAK;IACT,IAAIR,QAAQ,CAACO,SAAS,CAAC,EAAE;MACvB,CAAC;QAAEC;MAAM,CAAC,GAAGD,SAAS;IACxB,CAAC,MAAM;MACLC,KAAK,GAAG,CAACD,SAAS;IACpB;IACA,OAAOC,KAAK,GAAG,gCAAgC,GAAG,WAAW;EAC/D;EAEAC,SAASA,CAACF,SAAS,EAAE;IACnB,IAAIC,KAAK;IACT,IAAIR,QAAQ,CAACO,SAAS,CAAC,EAAE;MACvB,CAAC;QAAEC;MAAM,CAAC,GAAGD,SAAS;IACxB,CAAC,MAAM;MACLC,KAAK,GAAG,CAACD,SAAS;IACpB;IACA,OAAOC,KAAK,GAAG,gCAAgC,GAAG,WAAW;EAC/D;EAEAE,UAAUA,CAACC,KAAK,EAAEC,cAAc,EAAE;IAChC,OAAO,IAAI,CAACC,MAAM,CAChB,eAAe,IAAI,CAACC,SAAS,CAACC,IAAI,CAChC,IAAI,CAACC,aAAa,CAAC,CACrB,CAAC,IAAI,IAAI,CAACC,MAAM,CAACC,cAAc,CAACP,KAAK,CAAC,GAAG,EACzCC,cACF,CAAC;EACH;EAEAO,IAAIA,CAAA,EAAG;IACL;IACA,IAAI,CAACC,aAAa,CAACC,UAAU,CAACC,SAAS,GAAG,CACxC,IAAI,CAACR,SAAS,CAACS,SAAS,CAAC,IAAI,CAACP,aAAa,CAAC,CAAC,CAAC,CAC/C;IACD,OAAO,gBAAgB;EACzB;EAEAQ,KAAKA,CAAA,EAAG;IACN,OAAO,IAAI,CAACL,IAAI,CAAC,CAAC;EACpB;EAEAG,SAASA,CAACG,MAAM,EAAE;IAChB,OAAO,UAAUA,MAAM,WAAW;EACpC;AACF;AAEAxB,uBAAuB,CAACyB,SAAS,CAACC,IAAI,GAAG,gCAAgC;AACzE1B,uBAAuB,CAACyB,SAAS,CAACE,IAAI,GAAG,CAAC;EAAEC,aAAa,GAAG;AAAM,CAAC,GAAG,CAAC,CAAC,KACtEA,aAAa,GAAG,SAAS,GAAG,UAAU;AAExCC,MAAM,CAACC,OAAO,GAAG9B,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}