{"ast":null,"code":"/* eslint max-len: 0 */\n\nconst ViewCompiler = require('../../../schema/viewcompiler.js');\nconst {\n  columnize: columnize_\n} = require('../../../formatter/wrappingFormatter');\nclass ViewCompiler_SQLite3 extends ViewCompiler {\n  constructor(client, viewCompiler) {\n    super(client, viewCompiler);\n  }\n  createOrReplace() {\n    const columns = this.columns;\n    const selectQuery = this.selectQuery.toString();\n    const viewName = this.viewName();\n    const columnList = columns ? ' (' + columnize_(columns, this.viewBuilder, this.client, this.bindingsHolder) + ')' : '';\n    const dropSql = `drop view if exists ${viewName}`;\n    const createSql = `create view ${viewName}${columnList} as ${selectQuery}`;\n    this.pushQuery({\n      sql: dropSql\n    });\n    this.pushQuery({\n      sql: createSql\n    });\n  }\n}\nmodule.exports = ViewCompiler_SQLite3;","map":{"version":3,"names":["ViewCompiler","require","columnize","columnize_","ViewCompiler_SQLite3","constructor","client","viewCompiler","createOrReplace","columns","selectQuery","toString","viewName","columnList","viewBuilder","bindingsHolder","dropSql","createSql","pushQuery","sql","module","exports"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/node_modules/knex/lib/dialects/sqlite3/schema/sqlite-viewcompiler.js"],"sourcesContent":["/* eslint max-len: 0 */\n\nconst ViewCompiler = require('../../../schema/viewcompiler.js');\nconst {\n  columnize: columnize_,\n} = require('../../../formatter/wrappingFormatter');\n\nclass ViewCompiler_SQLite3 extends ViewCompiler {\n  constructor(client, viewCompiler) {\n    super(client, viewCompiler);\n  }\n  createOrReplace() {\n    const columns = this.columns;\n    const selectQuery = this.selectQuery.toString();\n    const viewName = this.viewName();\n\n    const columnList = columns\n      ? ' (' +\n        columnize_(\n          columns,\n          this.viewBuilder,\n          this.client,\n          this.bindingsHolder\n        ) +\n        ')'\n      : '';\n\n    const dropSql = `drop view if exists ${viewName}`;\n    const createSql = `create view ${viewName}${columnList} as ${selectQuery}`;\n\n    this.pushQuery({\n      sql: dropSql,\n    });\n    this.pushQuery({\n      sql: createSql,\n    });\n  }\n}\n\nmodule.exports = ViewCompiler_SQLite3;\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,iCAAiC,CAAC;AAC/D,MAAM;EACJC,SAAS,EAAEC;AACb,CAAC,GAAGF,OAAO,CAAC,sCAAsC,CAAC;AAEnD,MAAMG,oBAAoB,SAASJ,YAAY,CAAC;EAC9CK,WAAWA,CAACC,MAAM,EAAEC,YAAY,EAAE;IAChC,KAAK,CAACD,MAAM,EAAEC,YAAY,CAAC;EAC7B;EACAC,eAAeA,CAAA,EAAG;IAChB,MAAMC,OAAO,GAAG,IAAI,CAACA,OAAO;IAC5B,MAAMC,WAAW,GAAG,IAAI,CAACA,WAAW,CAACC,QAAQ,CAAC,CAAC;IAC/C,MAAMC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAC,CAAC;IAEhC,MAAMC,UAAU,GAAGJ,OAAO,GACtB,IAAI,GACJN,UAAU,CACRM,OAAO,EACP,IAAI,CAACK,WAAW,EAChB,IAAI,CAACR,MAAM,EACX,IAAI,CAACS,cACP,CAAC,GACD,GAAG,GACH,EAAE;IAEN,MAAMC,OAAO,GAAG,uBAAuBJ,QAAQ,EAAE;IACjD,MAAMK,SAAS,GAAG,eAAeL,QAAQ,GAAGC,UAAU,OAAOH,WAAW,EAAE;IAE1E,IAAI,CAACQ,SAAS,CAAC;MACbC,GAAG,EAAEH;IACP,CAAC,CAAC;IACF,IAAI,CAACE,SAAS,CAAC;MACbC,GAAG,EAAEF;IACP,CAAC,CAAC;EACJ;AACF;AAEAG,MAAM,CAACC,OAAO,GAAGjB,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}