{"ast":null,"code":"/*\r\n * Get a user infos with user puuid\r\n */export async function getUserByPuuid(puuid,apiKey){return await fetch(\"https://europe.api.riotgames.com/riot/account/v1/accounts/by-puuid/\"+puuid+\"/?api_key=\"+apiKey).then(response=>response.json()).then(result=>{return result;}).catch(error=>{console.log(error);window.stop();});}/*\r\n * Get a user infos with user name and game tag\r\n */export async function getUserByNameTag(userName,gameTag,apiKey){return await fetch(\"https://europe.api.riotgames.com/riot/account/v1/accounts/by-riot-id/\"+userName+\"/\"+gameTag+\"?api_key=\"+apiKey).then(response=>response.json()).then(result=>{return result;}).catch(error=>{console.log(error);window.stop();});}export async function getMatchData(matchId,apiKey){let query=\"https://europe.api.riotgames.com/lol/match/v5/matches/\"+matchId+\"?api_key=\"+apiKey;return await fetch(query).then(response=>response.json()).then(matchData=>{return matchData;}).catch(error=>{console.log(error);window.stop();});}/*\r\n * Get player last matches in a period (in days) with a maximum of count\r\n * @param puuid id of player\r\n * @param period in days\r\n * @param count number of matches\r\n * @param apikey the API key\r\n */export async function getPlayerLastMatches(puuid,period,count,apiKey){let end_point=Math.floor(Date.now()/1000);let start_point=end_point-60*60*24*period;let query=\"https://europe.api.riotgames.com/lol/match/v5/matches/by-puuid/\"+puuid+\"/ids?startTime=\"+start_point+\"&endTime=\"+end_point+\"&start=0&count=\"+count+\"&api_key=\"+apiKey;let matchesData=[];console.log(puuid);await fetch(query).then(response=>response.json()).then(async matchIds=>{console.log(matchIds);for(const matchId of matchIds){matchesData.push(await getMatchData(matchId,apiKey));}}).catch(error=>{console.log(error);window.stop();});return matchesData;}","map":{"version":3,"names":["getUserByPuuid","puuid","apiKey","fetch","then","response","json","result","catch","error","console","log","window","stop","getUserByNameTag","userName","gameTag","getMatchData","matchId","query","matchData","getPlayerLastMatches","period","count","end_point","Math","floor","Date","now","start_point","matchesData","matchIds","push"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/src/handlers/riot_handler.js"],"sourcesContent":["/*\r\n * Get a user infos with user puuid\r\n */\r\nexport async function getUserByPuuid(puuid, apiKey) {\r\n    return await fetch( \"https://europe.api.riotgames.com/riot/account/v1/accounts/by-puuid/\" + puuid + \"/?api_key=\" + apiKey)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n            return result\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n}\r\n\r\n/*\r\n * Get a user infos with user name and game tag\r\n */\r\nexport async function getUserByNameTag(userName, gameTag, apiKey) {\r\n    return await fetch( \"https://europe.api.riotgames.com/riot/account/v1/accounts/by-riot-id/\" + userName + \"/\" + gameTag + \"?api_key=\" + apiKey)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n            return result\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n}\r\n\r\nexport async function getMatchData(matchId, apiKey) {\r\n\r\n    let query = \"https://europe.api.riotgames.com/lol/match/v5/matches/\" + matchId + \"?api_key=\" + apiKey;\r\n    return await fetch(query)\r\n        .then(response => response.json())\r\n        .then(matchData => {\r\n            return matchData;\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n\r\n}\r\n\r\n/*\r\n * Get player last matches in a period (in days) with a maximum of count\r\n * @param puuid id of player\r\n * @param period in days\r\n * @param count number of matches\r\n * @param apikey the API key\r\n */\r\nexport async function getPlayerLastMatches(puuid, period, count, apiKey) {\r\n\r\n    let end_point = Math.floor(Date.now() / 1000)\r\n    let start_point = end_point - 60 * 60 * 24 * period\r\n\r\n    let query = \"https://europe.api.riotgames.com/lol/match/v5/matches/by-puuid/\" + puuid + \"/ids?startTime=\" + start_point + \"&endTime=\" + end_point + \"&start=0&count=\" + count + \"&api_key=\" + apiKey;\r\n\r\n    let matchesData = [];\r\n\r\n    console.log(puuid)\r\n\r\n    await fetch(query)\r\n        .then(response => response.json())\r\n        .then(async matchIds => {\r\n\r\n            console.log(matchIds)\r\n\r\n            for (const matchId of matchIds) {\r\n                matchesData.push(await getMatchData(matchId, apiKey))\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n\r\n    return matchesData\r\n\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}