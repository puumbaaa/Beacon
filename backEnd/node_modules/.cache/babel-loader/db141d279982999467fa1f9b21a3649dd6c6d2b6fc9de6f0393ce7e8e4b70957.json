{"ast":null,"code":"/*\r\n * Get a user infos with user puuid\r\n */\nexport async function getUserByPuuid(puuid, apiKey) {\n  return await fetch(\"https://europe.api.riotgames.com/riot/account/v1/accounts/by-puuid/\" + puuid + \"/?api_key=\" + apiKey).then(response => response.json()).then(result => {\n    return result;\n  }).catch(error => {\n    console.log(error);\n    window.stop();\n  });\n}\n\n/*\r\n * Get a user infos with user name and game tag\r\n */\nexport async function getUserByNameTag(userName, gameTag, apiKey) {\n  return await fetch(\"https://europe.api.riotgames.com/riot/account/v1/accounts/by-riot-id/\" + userName + \"/\" + gameTag + \"?api_key=\" + apiKey).then(response => response.json()).then(result => {\n    return result;\n  }).catch(error => {\n    console.log(error);\n    window.stop();\n  });\n}\nexport async function getMatchData(matchId, apiKey) {\n  let query = \"https://europe.api.riotgames.com/lol/match/v5/matches/\" + matchId + \"?api_key=\" + apiKey;\n  return await fetch(query).then(response => response.json()).then(matchData => {\n    return matchData;\n  }).catch(error => {\n    console.log(error);\n    window.stop();\n  });\n}\n\n/*\r\n * Get player last matches in a period (in days) with a maximum of count\r\n * @param puuid id of player\r\n * @param period in days\r\n * @param count number of matches\r\n * @param apikey the API key\r\n */\nexport async function getPlayerLastMatches(puuid, period, count, apiKey) {\n  let end_point = Math.floor(Date.now() / 1000);\n  let start_point = end_point - 60 * 60 * 24 * period;\n  let query = \"https://europe.api.riotgames.com/lol/match/v5/matches/by-puuid/\" + puuid + \"/ids?startTime=\" + start_point + \"&endTime=\" + end_point + \"&start=0&count=\" + count + \"&api_key=\" + apiKey;\n  let matchesData = [];\n  console.log(puuid);\n  await fetch(query).then(response => response.json()).then(async matchIds => {\n    console.log(matchIds);\n    for (const matchId of matchIds) {\n      matchesData.push(await getMatchData(matchId, apiKey));\n    }\n  }).catch(error => {\n    console.log(error);\n    window.stop();\n  });\n  return matchesData;\n}","map":{"version":3,"names":["getUserByPuuid","puuid","apiKey","fetch","then","response","json","result","catch","error","console","log","window","stop","getUserByNameTag","userName","gameTag","getMatchData","matchId","query","matchData","getPlayerLastMatches","period","count","end_point","Math","floor","Date","now","start_point","matchesData","matchIds","push"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/src/pages/riot_handler.js"],"sourcesContent":["/*\r\n * Get a user infos with user puuid\r\n */\r\nexport async function getUserByPuuid(puuid, apiKey) {\r\n    return await fetch( \"https://europe.api.riotgames.com/riot/account/v1/accounts/by-puuid/\" + puuid + \"/?api_key=\" + apiKey)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n            return result\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n}\r\n\r\n/*\r\n * Get a user infos with user name and game tag\r\n */\r\nexport async function getUserByNameTag(userName, gameTag, apiKey) {\r\n    return await fetch( \"https://europe.api.riotgames.com/riot/account/v1/accounts/by-riot-id/\" + userName + \"/\" + gameTag + \"?api_key=\" + apiKey)\r\n        .then(response => response.json())\r\n        .then(result => {\r\n            return result\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n}\r\n\r\nexport async function getMatchData(matchId, apiKey) {\r\n\r\n    let query = \"https://europe.api.riotgames.com/lol/match/v5/matches/\" + matchId + \"?api_key=\" + apiKey;\r\n    return await fetch(query)\r\n        .then(response => response.json())\r\n        .then(matchData => {\r\n            return matchData;\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n\r\n}\r\n\r\n/*\r\n * Get player last matches in a period (in days) with a maximum of count\r\n * @param puuid id of player\r\n * @param period in days\r\n * @param count number of matches\r\n * @param apikey the API key\r\n */\r\nexport async function getPlayerLastMatches(puuid, period, count, apiKey) {\r\n\r\n    let end_point = Math.floor(Date.now() / 1000)\r\n    let start_point = end_point - 60 * 60 * 24 * period\r\n\r\n    let query = \"https://europe.api.riotgames.com/lol/match/v5/matches/by-puuid/\" + puuid + \"/ids?startTime=\" + start_point + \"&endTime=\" + end_point + \"&start=0&count=\" + count + \"&api_key=\" + apiKey;\r\n\r\n    let matchesData = [];\r\n\r\n    console.log(puuid)\r\n\r\n    await fetch(query)\r\n        .then(response => response.json())\r\n        .then(async matchIds => {\r\n\r\n            console.log(matchIds)\r\n\r\n            for (const matchId of matchIds) {\r\n                matchesData.push(await getMatchData(matchId, apiKey))\r\n            }\r\n\r\n        }).catch(error => {\r\n            console.log(error);\r\n            window.stop();\r\n        });\r\n\r\n    return matchesData\r\n\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}