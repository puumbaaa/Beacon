{"ast":null,"code":"/* eslint max-len: 0 */\n\nconst ViewCompiler = require('../../../schema/viewcompiler.js');\nclass ViewCompiler_PG extends ViewCompiler {\n  constructor(client, viewCompiler) {\n    super(client, viewCompiler);\n  }\n  renameColumn(from, to) {\n    return this.pushQuery({\n      sql: `alter view ${this.viewName()} rename ${this.formatter.wrap(from)} to ${this.formatter.wrap(to)}`\n    });\n  }\n  defaultTo(column, defaultValue) {\n    return this.pushQuery({\n      sql: `alter view ${this.viewName()} alter ${this.formatter.wrap(column)} set default ${defaultValue}`\n    });\n  }\n  createOrReplace() {\n    this.createQuery(this.columns, this.selectQuery, false, true);\n  }\n  createMaterializedView() {\n    this.createQuery(this.columns, this.selectQuery, true);\n  }\n}\nmodule.exports = ViewCompiler_PG;","map":{"version":3,"names":["ViewCompiler","require","ViewCompiler_PG","constructor","client","viewCompiler","renameColumn","from","to","pushQuery","sql","viewName","formatter","wrap","defaultTo","column","defaultValue","createOrReplace","createQuery","columns","selectQuery","createMaterializedView","module","exports"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/node_modules/knex/lib/dialects/postgres/schema/pg-viewcompiler.js"],"sourcesContent":["/* eslint max-len: 0 */\n\nconst ViewCompiler = require('../../../schema/viewcompiler.js');\n\nclass ViewCompiler_PG extends ViewCompiler {\n  constructor(client, viewCompiler) {\n    super(client, viewCompiler);\n  }\n\n  renameColumn(from, to) {\n    return this.pushQuery({\n      sql: `alter view ${this.viewName()} rename ${this.formatter.wrap(\n        from\n      )} to ${this.formatter.wrap(to)}`,\n    });\n  }\n\n  defaultTo(column, defaultValue) {\n    return this.pushQuery({\n      sql: `alter view ${this.viewName()} alter ${this.formatter.wrap(\n        column\n      )} set default ${defaultValue}`,\n    });\n  }\n\n  createOrReplace() {\n    this.createQuery(this.columns, this.selectQuery, false, true);\n  }\n\n  createMaterializedView() {\n    this.createQuery(this.columns, this.selectQuery, true);\n  }\n}\n\nmodule.exports = ViewCompiler_PG;\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,iCAAiC,CAAC;AAE/D,MAAMC,eAAe,SAASF,YAAY,CAAC;EACzCG,WAAWA,CAACC,MAAM,EAAEC,YAAY,EAAE;IAChC,KAAK,CAACD,MAAM,EAAEC,YAAY,CAAC;EAC7B;EAEAC,YAAYA,CAACC,IAAI,EAAEC,EAAE,EAAE;IACrB,OAAO,IAAI,CAACC,SAAS,CAAC;MACpBC,GAAG,EAAE,cAAc,IAAI,CAACC,QAAQ,CAAC,CAAC,WAAW,IAAI,CAACC,SAAS,CAACC,IAAI,CAC9DN,IACF,CAAC,OAAO,IAAI,CAACK,SAAS,CAACC,IAAI,CAACL,EAAE,CAAC;IACjC,CAAC,CAAC;EACJ;EAEAM,SAASA,CAACC,MAAM,EAAEC,YAAY,EAAE;IAC9B,OAAO,IAAI,CAACP,SAAS,CAAC;MACpBC,GAAG,EAAE,cAAc,IAAI,CAACC,QAAQ,CAAC,CAAC,UAAU,IAAI,CAACC,SAAS,CAACC,IAAI,CAC7DE,MACF,CAAC,gBAAgBC,YAAY;IAC/B,CAAC,CAAC;EACJ;EAEAC,eAAeA,CAAA,EAAG;IAChB,IAAI,CAACC,WAAW,CAAC,IAAI,CAACC,OAAO,EAAE,IAAI,CAACC,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC;EAC/D;EAEAC,sBAAsBA,CAAA,EAAG;IACvB,IAAI,CAACH,WAAW,CAAC,IAAI,CAACC,OAAO,EAAE,IAAI,CAACC,WAAW,EAAE,IAAI,CAAC;EACxD;AACF;AAEAE,MAAM,CAACC,OAAO,GAAGrB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}