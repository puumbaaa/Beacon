{"ast":null,"code":"const Transaction = require('../../execution/transaction');\nmodule.exports = class Redshift_Transaction extends Transaction {\n  begin(conn) {\n    const trxMode = [this.isolationLevel ? `ISOLATION LEVEL ${this.isolationLevel}` : '', this.readOnly ? 'READ ONLY' : ''].join(' ').trim();\n    if (trxMode.length === 0) {\n      return this.query(conn, 'BEGIN;');\n    }\n    return this.query(conn, `BEGIN ${trxMode};`);\n  }\n  savepoint(conn) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n  release(conn, value) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n  rollbackTo(conn, error) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n};","map":{"version":3,"names":["Transaction","require","module","exports","Redshift_Transaction","begin","conn","trxMode","isolationLevel","readOnly","join","trim","length","query","savepoint","trxClient","logger","Promise","resolve","release","value","rollbackTo","error"],"sources":["C:/Users/momo1/Documents/@DevPerso/Beacon/node_modules/knex/lib/dialects/redshift/transaction.js"],"sourcesContent":["const Transaction = require('../../execution/transaction');\n\nmodule.exports = class Redshift_Transaction extends Transaction {\n  begin(conn) {\n    const trxMode = [\n      this.isolationLevel ? `ISOLATION LEVEL ${this.isolationLevel}` : '',\n      this.readOnly ? 'READ ONLY' : '',\n    ]\n      .join(' ')\n      .trim();\n\n    if (trxMode.length === 0) {\n      return this.query(conn, 'BEGIN;');\n    }\n    return this.query(conn, `BEGIN ${trxMode};`);\n  }\n\n  savepoint(conn) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n\n  release(conn, value) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n\n  rollbackTo(conn, error) {\n    this.trxClient.logger('Redshift does not support savepoints.');\n    return Promise.resolve();\n  }\n};\n"],"mappings":"AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AAE1DC,MAAM,CAACC,OAAO,GAAG,MAAMC,oBAAoB,SAASJ,WAAW,CAAC;EAC9DK,KAAKA,CAACC,IAAI,EAAE;IACV,MAAMC,OAAO,GAAG,CACd,IAAI,CAACC,cAAc,GAAG,mBAAmB,IAAI,CAACA,cAAc,EAAE,GAAG,EAAE,EACnE,IAAI,CAACC,QAAQ,GAAG,WAAW,GAAG,EAAE,CACjC,CACEC,IAAI,CAAC,GAAG,CAAC,CACTC,IAAI,CAAC,CAAC;IAET,IAAIJ,OAAO,CAACK,MAAM,KAAK,CAAC,EAAE;MACxB,OAAO,IAAI,CAACC,KAAK,CAACP,IAAI,EAAE,QAAQ,CAAC;IACnC;IACA,OAAO,IAAI,CAACO,KAAK,CAACP,IAAI,EAAE,SAASC,OAAO,GAAG,CAAC;EAC9C;EAEAO,SAASA,CAACR,IAAI,EAAE;IACd,IAAI,CAACS,SAAS,CAACC,MAAM,CAAC,uCAAuC,CAAC;IAC9D,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B;EAEAC,OAAOA,CAACb,IAAI,EAAEc,KAAK,EAAE;IACnB,IAAI,CAACL,SAAS,CAACC,MAAM,CAAC,uCAAuC,CAAC;IAC9D,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B;EAEAG,UAAUA,CAACf,IAAI,EAAEgB,KAAK,EAAE;IACtB,IAAI,CAACP,SAAS,CAACC,MAAM,CAAC,uCAAuC,CAAC;IAC9D,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}